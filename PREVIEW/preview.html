<!DOCTYPE html>
<html>
<body>
    <style>
        body {
            background-color: #202124;
        }

        div {
            position: relative;
        }

        .inner-image-vk {
            position: absolute;
            top: 347px;
            left: 196px;
            width: 91px;
            z-index: -1;
            /*opacity:0.5;*/
        }

        .inner-image-inst {
            position: absolute;
            top: 66px;
            left: 99px;
            width: 150px;
            z-index: -1;
            /*opacity:0.5;*/
        }
    </style>

    <div id="preview_1" hidden>
        <div>
            <button onclick="goPriview()">back</button>
            <!--<button onclick="onL()"><</button>-->
            <span style="color:white" id="img-id">
                1
            </span>
            <!--<button onclick="onR()">></button>-->
        </div>
        <div style="display: inline-block">
            <img class="inner-image-vk" id="img-vk" />
            <img src="./page_vk.png">
        </div>

        <div style="display: inline-block">
            <img class="inner-image-inst" id="img-inst" />
            <img src="./page_inst.png">
        </div>
    </div>

    <div id="preview_all">
        <div style="display: none; margin:4px;">
            <img style="width: 128px">
        </div>
    </div>

    <script>
        const max_count = 90;

        const vk = document.getElementById('img-vk');
        const inst = document.getElementById('img-inst');
        const img_id = document.getElementById('img-id');

        const preview_1 = document.getElementById('preview_1');
        const preview_all = document.getElementById('preview_all');

        const img_btn_orig = preview_all.firstElementChild;

        let selected = 0;

        function sel(id) {
            vk.src = './img/' + id + '.png';
            inst.src = './img/' + id + '.png';
            selected = id;
            img_id.innerText = id;

            preview_1.hidden = false;
            preview_all.hidden = true;
        }

        function onL() {
            let id = selected - 1;

            if (id < 1)
                id = max_count;

            sel(id);
        }

        function onR() {
            let id = selected + 1;

            if (id > max_count)
                id = 1;

            sel(id);
        }

        function goPriview() {
            preview_1.hidden = true;
            preview_all.hidden = false;
        }

        function updateImgs() {
            let prevEle = img_btn_orig;

            for (let i = 1; i <= max_count; i++) {
                let new_element = img_btn_orig.cloneNode(true);
                new_element.style.display = 'inline-block';

                let img = new_element.children.item(0);
                img.src = './img/' + i + '.png';
                img.title = i;
                img.onclick = () => {
                    sel(i);
                };

                prevEle.after(new_element);
                prevEle = new_element;
            }
        }

        updateImgs();
    </script>
</body>
</html> 